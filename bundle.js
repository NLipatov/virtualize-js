(()=>{"use strict";function e(e,t){const n=t.clientHeight,l=t.scrollTop,{startIndex:o,endIndex:i}=function(e,t,n){let l=0,o=0;for(let n=0;n<e.length;n++)if(o+=parseInt(e[n].style.height,10),o>t){l=n;break}let i=l;o=0;for(let t=l;t<e.length;t++)if(o+=parseInt(e[t].style.height,10),o>=n){i=t;break}return i===l&&parseInt(e[l].style.height,10)>n&&(i=l+1),{startIndex:l,endIndex:i}}(e,l,n),r=Math.ceil(1.25*(i-o)),d=Math.max(0,o-r),s=Math.min(e.length,i+r),c=e.slice(0,d).reduce(((e,t)=>e+parseInt(t.style.height,10)),0),h=e.slice(s).reduce(((e,t)=>e+parseInt(t.style.height,10)),0);t.innerHTML="";const a=document.createElement("div");a.style.height=`${c}px`,t.appendChild(a);for(let n=d;n<s;n++)t.appendChild(e[n]);const f=document.createElement("div");f.style.height=`${h}px`,t.appendChild(f)}const t=document.getElementById("items-container"),n=document.getElementById("renderButton"),l=document.getElementById("itemCount"),o=["#f0f0f0","#d0e8ff","#d0ffd0","#fffacd","#ffd0d0"];let i=[];n.addEventListener("click",(function(){const n=parseInt(l.value,10);n>0?(function(n){i=[];for(let e=0;e<n;e++){const t=document.createElement("div");t.textContent=`Item #${e+1}`,t.style.height=`${l=50,r=300,Math.floor(Math.random()*(r-l+1))+l}px`,t.style.backgroundColor=o[e%o.length],i.push(t)}var l,r;e(i,t)}(n),t.style.height=window.innerHeight-document.querySelector("footer").offsetHeight+"px",t.style.overflowY="scroll",e(i,t)):alert("Invalid item count!")})),t.addEventListener("scroll",(()=>{e(i,t)})),window.addEventListener("resize",(()=>{t.style.height=window.innerHeight-document.querySelector("footer").offsetHeight+"px",e(i,t)}))})();